<?xml version="1.0"?>

<!-- DaSH Human-Powered Airplane    -->
<!-- Copyright 2014 Marshall Gusman -->

<PropertyList>

<!-- AC file is courtesy of SunLightEagle model for CRRC sim -->
 <path>Aircraft/DaSH/Models/SLE_21b.ac</path>
 <offsets>
   <x-m>0</x-m>
   <y-m>0</y-m>
   <z-m>0</z-m>
   <scale>10</scale>
   <pitch-deg>0.0</pitch-deg>
 </offsets>

  <params>
        <gear>
            <front-rollspeed-ms>engines/engine[3]/n1</front-rollspeed-ms>
            <back-rollspeed-ms>engines/engine[3]/n2</back-rollspeed-ms>
        </gear>
  </params>

  <!--  Specularity fix -->
  <animation>
        <type>material</type>
        <object-name>BackWheel</object-name>
        <object-name>BackWheelStrut</object-name>
        <object-name>Boom</object-name>
        <object-name>Cage1</object-name>
        <object-name>Cage2</object-name>
        <object-name>LeftWingEdge</object-name>
        <shininess>128</shininess>
        <specular>
            <r>1</r>
            <g>1</g>
            <b>1</b>
        </specular>
        <ambient>
            <r>1</r>
            <g>1</g>
            <b>1</b>
        </ambient>
    </animation>

    <!-- Transparent Surfaces for Rembrandt rendering -->
    <effect>
        <inherits-from>Effects/model-transparent</inherits-from>
        <object-name>FuselageCovering</object-name>
        <object-name>LeftWingCovering</object-name>
        <object-name>RightWingCovering</object-name>
        <object-name>ElevatorCovering</object-name>
        <object-name>RudderCovering</object-name>
    </effect>

    <!-- interior effects
    <effect>
        <inherits-from>Effects/interior/c172p-interior</inherits-from>
        <object-name>AirVent_left</object-name>
    </effect>

    <effect>
        <inherits-from>Effects/interior/c172p-interior-glass-shadow</inherits-from>
        <object-name>glas</object-name>
    </effect>

    <effect>
        <inherits-from>Effects/interior/c172p-interior-glass-reflection-front</inherits-from>
        <object-name>glas_interior</object-name>
    </effect>
    -->

    <effect>
        <inherits-from>Effects/glass</inherits-from>
        <object-name>FuselageCovering</object-name>
        <object-name>LeftWingCovering</object-name>
        <object-name>RightWingCovering</object-name>
        <object-name>ElevatorCovering</object-name>
        <object-name>RudderCovering</object-name>
    </effect>

    <effect>
        <inherits-from>Effects/model-transparent</inherits-from>
        <object-name>Propeller.Fast</object-name>
    </effect>

  <animation>
        <type>select</type>
        <object-name>Propeller.Fast</object-name>
        <condition>
            <greater-than>
                <!--property alias="/params/engine/rpm"/-->
                <property>engines/engine/rpm</property>
                <value>274</value>
            </greater-than>
        </condition>
  </animation>

  <animation>
      <type>blend</type>
      <object-name>Propeller.Fast</object-name>
      <!--property alias="/params/engine/rpm"/-->
      <property>engines/engine/rpm</property>
      <factor>0.0004</factor>
      <max>1.0</max>
      <min>0.0</min>
  </animation>

  <animation>
   <object-name>Propeller</object-name>
   <object-name>PropHub</object-name>
   <type>spin</type>
   <!--property alias="/params/engine/rpm"/-->
   <property>engines/engine/rpm</property>
   <factor>-1</factor>
   <center>
    <x-m>-1.81</x-m>
    <y-m> 0    </y-m>
    <z-m> 0.74</z-m>
   </center>
   <axis>
    <x>1</x>
    <y>0</y>
    <z>0</z>
   </axis>
  </animation>

  <animation>
  	<type>rotate</type>
  	<object-name>ElevatorRibs</object-name>
        <object-name>ElevatorCovering</object-name>
        <object-name>ElevatorMain</object-name>
        <object-name>ElevatorRod</object-name>
        <object-name>ElevatorEdges</object-name>
  	<property>/controls/flight/elevator</property>
  	<min-deg>-20</min-deg>
  	<max-deg>20</max-deg>
  	<factor>-20</factor>
  	<center>
  		<x-m>4.95</x-m>
  		<y-m>0.03</y-m>
  		<z-m>0.92</z-m>
  	</center>
  	<axis>
  		<x>0</x>
  		<y>-1</y>
  		<z>0</z>
  	</axis>
  </animation>

  <animation>
        <type>spin</type>
        <object-name>FrontWheel</object-name>
        <property alias="/params/gear/front-rollspeed-ms"/>
        <factor>13</factor>
        <axis>
            <x>0</x>
            <y>-1</y>
            <z>0</z>
        </axis>
        <center>
            <x-m>-0.72608</x-m>
            <y-m>0.00115</y-m>
            <z-m>-0.88244</z-m>
        </center>
  </animation>

  <animation>
        <type>spin</type>
        <object-name>BackWheel</object-name>
        <property alias="/params/gear/back-rollspeed-ms"/>
        <factor>13</factor>
        <axis>
            <x>0</x>
            <y>-1</y>
            <z>0</z>
        </axis>
        <center>
            <x-m>0.04753</x-m>
            <y-m>-0.00008</y-m>
            <z-m>-0.82061</z-m>
        </center>
  </animation>

  <animation>
  	<type>rotate</type>
  	<object-name>RudderRibs</object-name>
  	<object-name>RudderCovering</object-name>
        <object-name>RudderMain</object-name>
        <object-name>RudderRod</object-name>
        <object-name>RudderEdges</object-name>
  	<property>/controls/flight/aileron</property>
  	<min-deg>-20</min-deg>
  	<max-deg>20</max-deg>
  	<factor>20</factor>
  	<center>
  		<x-m>5.660</x-m>
  		<y-m>0.168</y-m>
  		<z-m>0.939</z-m>
  	</center>
  	<axis>
  		<x>0</x>
  		<y>0</y>
  		<z>1</z>
  	</axis>
  </animation>
 </PropertyList>
